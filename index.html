<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì€ì‚¬ì ê²€ í…ŒìŠ¤íŠ¸</title>
    <meta name="description" content="í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ì€ì‚¬ë¥¼ ë°œê²¬í•˜ëŠ” í…ŒìŠ¤íŠ¸">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar } = Recharts;

        const SpiritualGiftTest = () => {
          const [currentStep, setCurrentStep] = useState('intro');
          const [scores, setScores] = useState({
            affinity: Array(10).fill(0),
            ability: Array(10).fill(0),
            opportunity: Array(10).fill(0)
          });

          const giftTypes = [
            { id: 1, name: 'ê¸íœ¼', desc: 'ì–´ë ¤ì›€ì„ ê²ªëŠ” ì‚¬ëŒë“¤ì—ê²Œ ê¹Šì´ ê³µê°í•˜ê³  ìœ„ë¡œí•˜ëŠ” ëŠ¥ë ¥' },
            { id: 2, name: 'ê°€ë¥´ì¹¨', desc: 'ì„±ê²½ì  ì§„ë¦¬ë¥¼ ëª…í™•í•˜ê²Œ ì„¤ëª…í•˜ì—¬ ë‹¤ë¥¸ ì‚¬ëŒì„ êµìœ¡í•˜ëŠ” ëŠ¥ë ¥' },
            { id: 3, name: 'í–‰ì •', desc: 'ì¡°ì§ì´ë‚˜ í–‰ì‚¬ë¥¼ ê³„íší•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ëŠ¥ë ¥' },
            { id: 4, name: 'ëª©ì–‘', desc: 'ì‚¬ëŒë“¤ì„ ëŒë³´ê³ , ê²©ë ¤í•˜ë©°, ì˜ì ìœ¼ë¡œ ì„±ì¥í•˜ë„ë¡ ë•ëŠ” ëŠ¥ë ¥' },
            { id: 5, name: 'ì°½ì¡°ì ', desc: 'ì˜ˆìˆ (ìŒì•…, ë¯¸ìˆ  ë“±)ì„ í†µí•´ í•˜ë‚˜ë‹˜ì„ ì˜ˆë°°í•˜ê³  í‘œí˜„í•˜ëŠ” ëŠ¥ë ¥' },
            { id: 6, name: 'êµ¬ì œ', desc: 'ë¬¼ì§ˆì  ìì›ì„ ê¸°ì˜ê²Œ ë‚˜ëˆ„ì–´ ë‹¤ë¥¸ ì‚¬ëŒì„ ë•ëŠ” ëŠ¥ë ¥' },
            { id: 7, name: 'ì„ êµ', desc: 'ë‹¤ë¥¸ ë¬¸í™”ê¶Œì´ë‚˜ í™˜ê²½ì— ì ì‘í•˜ì—¬ ë³µìŒì„ ì „í•˜ëŠ” ëŠ¥ë ¥' },
            { id: 8, name: 'ì „ë„', desc: 'ë¹„ì‹ ìì—ê²Œ ë³µìŒì„ ëª…í™•í•˜ê²Œ ì œì‹œí•˜ì—¬ ê²°ì‹ ì„ ë•ëŠ” ëŠ¥ë ¥' },
            { id: 9, name: 'ë¶„ë³„', desc: 'ì§„ë¦¬ì™€ ê±°ì§“, ì„ ê³¼ ì•…ì„ ì˜ì ìœ¼ë¡œ ë¶„ë³„í•˜ëŠ” ëŠ¥ë ¥' },
            { id: 10, name: 'ì§€í˜œ', desc: 'ë³µì¡í•œ ë¬¸ì œì— ëŒ€í•œ ì‹¤ì§ˆì ì´ê³  íš¨ê³¼ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•˜ëŠ” ëŠ¥ë ¥' }
          ];

          const questions = {
            affinity: [
              'ì–´ë ¤ì›€ì„ ê²ªëŠ” ì‚¬ëŒë“¤ì˜ ì´ì•¼ê¸°ë¥¼ ë“£ê³ , ê·¸ë“¤ì˜ ì•„í””ì— ê¹Šì´ ê³µê°í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.',
              'ì„±ê²½ ë§ì”€ì„ ê¹Šì´ ì—°êµ¬í•˜ê³ , ê·¸ ì§„ë¦¬ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì‰½ê²Œ ì„¤ëª…í•´ ì£¼ëŠ” ë° í¥ë¯¸ê°€ ìˆë‹¤.',
              'êµíšŒ í–‰ì‚¬ë¥¼ ê³„íší•˜ê³ , ê° ë¶€ì„œì˜ ì—­í• ì„ ì¡°ìœ¨í•˜ëŠ” ë“± ì „ì²´ ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ì¼ì„ ì¦ê¸´ë‹¤.',
              'ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ìì‹ ì˜ ì ì¬ë ¥ì„ ë°œê²¬í•˜ê³  ì„±ì¥í•˜ë„ë¡ ë•ëŠ” ë° í° ê¸°ì¨ì„ ëŠë‚€ë‹¤.',
              'ì˜ˆìˆ (ìŒì•…, ë¯¸ìˆ , ê¸€ì“°ê¸° ë“±)ì„ í†µí•´ í•˜ë‚˜ë‹˜ì„ í‘œí˜„í•˜ê±°ë‚˜ ì˜ˆë°° ë¶„ìœ„ê¸°ë¥¼ ì¡°ì„±í•˜ëŠ” ë° ë§ˆìŒì´ ëŒë¦°ë‹¤.',
              'ëˆ„êµ°ê°€ì˜ í•„ìš”ë¥¼ ë°œê²¬í•˜ë©´, ë¬¼ì§ˆì ì´ë“  ì‹¤ì§ˆì ì¸ ë„ì›€ì´ë“  ë§ì„¤ì´ì§€ ì•Šê³  ê¸°êº¼ì´ ë•ëŠ”ë‹¤.',
              'ì „í˜€ ìƒˆë¡œìš´ í™˜ê²½ì´ë‚˜ ë¬¸í™”ê¶Œì—ì„œ ë³µìŒì„ ì „í•˜ê³  êµíšŒë¥¼ ì„¸ìš°ëŠ” ìƒìƒì„ í•˜ê³¤ í•œë‹¤.',
              'ë¹„ì‹ ì ì¹œêµ¬ë“¤ì—ê²Œ ê¸°ë…êµì— ëŒ€í•´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ì•¼ê¸°í•  ê¸°íšŒë¥¼ í•­ìƒ ì°¾ëŠ”ë‹¤.',
              'ì˜ì ìœ¼ë¡œ í˜¼ë€ìŠ¤ëŸ¬ì›Œí•˜ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•´ ì§„ë¦¬ì™€ ê±°ì§“ì„ ë¶„ë³„í•˜ê³  ì˜¬ë°”ë¥¸ ê¸¸ì„ ì œì‹œí•´ ì£¼ê³  ì‹¶ë‹¤.',
              'êµíšŒì˜ ì¬ì •ì„ íˆ¬ëª…í•˜ê²Œ ê´€ë¦¬í•˜ê³ , ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì— ê´€ì‹¬ì´ ë§ë‹¤.'
            ],
            ability: [
              'ë‹¹ì‹ ì˜ ìœ„ë¡œì™€ ê²©ë ¤ë¥¼ í†µí•´ ë‚™ì‹¬í–ˆë˜ ì‚¬ëŒë“¤ì´ ë‹¤ì‹œ ì¼ì–´ì„  ê²½í—˜ì´ ìˆë‹¤.',
              'ë‹¹ì‹ ì˜ ê°€ë¥´ì¹¨ì„ ë“¤ì€ ì‚¬ëŒë“¤ì´ ì„±ê²½ì  ì§„ë¦¬ë¥¼ ë” ì˜ ì´í•´í•˜ê³  ì‚¶ì— ì ìš©í•˜ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.',
              'ë‹¹ì‹ ì´ ê³„íší•˜ê³  ì¡°ì§í•œ í–‰ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì˜ ë§ˆë¬´ë¦¬ë˜ì–´ ê¸ì •ì ì¸ í‰ê°€ë¥¼ ë°›ì€ ì ì´ ìˆë‹¤.',
              'ë‹¹ì‹ ì˜ ì¡°ì–¸ê³¼ ë¦¬ë”ì‹­ì„ í†µí•´ ê³µë™ì²´ì˜ ëª©í‘œê°€ ì„±ê³µì ìœ¼ë¡œ ë‹¬ì„±ëœ ê²½í—˜ì´ ìˆë‹¤.',
              'ë‹¹ì‹ ì´ ë§Œë“  ì‘í’ˆì´ë‚˜ ìŒì•…ì´ ì˜ˆë°° ê³µë™ì²´ì— ê¹Šì€ ì˜ì  ìš¸ë¦¼ì„ ì£¼ì—ˆë‹¤.',
              'ë‹¹ì‹ ì´ ë² í‘¼ ë¬¼ì§ˆì  ë„ì›€ì´ë‚˜ ë´‰ì‚¬ë¥¼ í†µí•´ ìƒëŒ€ë°©ì˜ ì‹¤ì œì ì¸ ë¬¸ì œê°€ í•´ê²°ëœ ì ì´ ìˆë‹¤.',
              'ë‚¯ì„  ì‚¬ëŒë“¤ê³¼ ê¸ˆë°© ì¹œí•´ì§€ê³ , ê·¸ë“¤ì´ í¸ì•ˆí•¨ì„ ëŠë¼ë„ë¡ ë•ëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤.',
              'ë‹¹ì‹ ì˜ ê°„ì¦ì´ë‚˜ ë³µìŒ ì œì‹œë¥¼ í†µí•´ ë¹„ì‹ ìê°€ ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ë¥¼ ì˜ì ‘í•œ ê²½í—˜ì´ ìˆë‹¤.',
              'ì˜ì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ, ë‹¹ì‹ ì˜ í†µì°°ë ¥ìœ¼ë¡œ ìƒí™©ì„ ëª…í™•í•˜ê²Œ íŒŒì•…í•˜ê³  ë¶„ë³„í•´ëƒˆë‹¤.',
              'ë³µì¡í•œ ë¬¸ì œë¥¼ ê°„ë‹¨í•˜ê³  íš¨ê³¼ì ì¸ í•´ê²°ì±…ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬ ì œì‹œí•˜ëŠ” ë° ëŠ¥ìˆ™í•˜ë‹¤.'
            ],
            opportunity: [
              'ë‹¹ì‹ ì´ ì†í•œ ì†Œê·¸ë£¹ì— ë§ˆìŒì˜ ì–´ë ¤ì›€ì„ ê²ªëŠ” ì‚¬ëŒì´ ìˆì–´ ìœ„ë¡œê°€ í•„ìš”í•˜ë‹¤.',
              'êµíšŒì— ìƒˆë¡­ê²Œ ë“±ë¡í•œ ì„±ë„ë“¤ì„ ì–‘ìœ¡í•˜ê³  ê°€ë¥´ì³ì¤„ ì‚¬ëŒì´ í•„ìš”í•˜ë‹¤.',
              'ë‹¤ìŒ ì„¸ëŒ€ë¥¼ ìœ„í•œ í–‰ì‚¬ë¥¼ ê¸°íší•˜ê³  ìš´ì˜í•  íŒ€ì›ì´ í•„ìš”í•˜ë‹¤.',
              'ì†Œê·¸ë£¹ ë¦¬ë”ë‚˜ ë´‰ì‚¬íŒ€ íŒ€ì¥ì²˜ëŸ¼, ì‚¬ëŒë“¤ì„ ì´ëŒì–´ ì¤„ ë¦¬ë”ê°€ í•„ìš”í•˜ë‹¤.',
              'êµíšŒ ì˜ˆë°°ë‚˜ ì°¬ì–‘íŒ€ì—ì„œ ì°½ì¡°ì ì¸ ì¬ëŠ¥ì„ ê°€ì§„ ì‚¬ëŒì„ ì°¾ê³  ìˆë‹¤.',
              'êµíšŒ ì£¼ë³€ì— ì–´ë ¤ìš´ ì´ì›ƒì„ ë•ëŠ” êµ¬ì œ ì‚¬ì—­ì„ ì‹œì‘í•˜ë ¤ í•œë‹¤.',
              'í•´ì™¸ ì„ êµë‚˜ ë¯¸ì „ë„ ì¢…ì¡± ì‚¬ì—­ì— ë™ì°¸í•  ì‚¬ëŒì„ ì°¾ê³  ìˆë‹¤.',
              'êµíšŒì— ì•„ì§ ë¯¿ì§€ ì•ŠëŠ” ê°€ì¡±ì´ë‚˜ ì¹œêµ¬ë¥¼ ë‘” ì„±ë„ë“¤ì´ ë§ë‹¤.',
              'ì´ë‹¨ì´ë‚˜ ì˜ëª»ëœ ê°€ë¥´ì¹¨ì— ëŒ€í•œ ë¶„ë³„ë ¥ì„ ê¸¸ëŸ¬ì¤„ êµìœ¡ í”„ë¡œê·¸ë¨ì´ í•„ìš”í•˜ë‹¤.',
              'êµíšŒ í–‰ì •ì´ë‚˜ ì¬ì • ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•  ë´‰ì‚¬ìê°€ í•„ìš”í•˜ë‹¤.'
            ]
          };

          const handleScore = (category, index, score) => {
            setScores(prev => ({
              ...prev,
              [category]: prev[category].map((s, i) => i === index ? score : s)
            }));
          };

          const calculateTopGifts = (categoryScores) => {
            return categoryScores
              .map((score, index) => ({ giftId: index + 1, score }))
              .sort((a, b) => b.score - a.score)
              .slice(0, 3);
          };

          const getResults = () => {
            const topAffinity = calculateTopGifts(scores.affinity);
            const topAbility = calculateTopGifts(scores.ability);
            const topOpportunity = calculateTopGifts(scores.opportunity);

            const allGiftIds = [
              ...topAffinity.map(g => g.giftId),
              ...topAbility.map(g => g.giftId),
              ...topOpportunity.map(g => g.giftId)
            ];

            const giftFrequency = {};
            allGiftIds.forEach(id => {
              giftFrequency[id] = (giftFrequency[id] || 0) + 1;
            });

            const matchingGifts = Object.entries(giftFrequency)
              .filter(([_, count]) => count === 3)
              .map(([id]) => parseInt(id));

            return {
              topAffinity,
              topAbility,
              topOpportunity,
              matchingGifts,
              totalScores: scores.affinity.map((_, i) => ({
                gift: giftTypes[i].name,
                ê´€ì‹¬: scores.affinity[i],
                ëŠ¥ë ¥: scores.ability[i],
                ê¸°íšŒ: scores.opportunity[i]
              }))
            };
          };

          const renderIntro = () => (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8">
              <div className="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-10">
                <h1 className="text-3xl md:text-4xl font-bold text-center text-indigo-900 mb-6">
                  ì€ì‚¬ì ê²€ í…ŒìŠ¤íŠ¸
                </h1>
                <div className="space-y-4 text-gray-700 leading-relaxed">
                  <p className="text-lg">
                    ì´ í…ŒìŠ¤íŠ¸ëŠ” ì •ë‹µì„ ì°¾ëŠ” ì‹œí—˜ì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë‚´ë©´ì— ìˆëŠ” í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ì€ì‚¬ë¥¼ ë°œê²¬í•˜ê³ , 
                    ì´ë¥¼ í†µí•´ ë‹¹ì‹ ê³¼ ê³µë™ì²´ê°€ í•¨ê»˜ ì„±ì¥í•˜ëŠ” ê¸°íšŒë¥¼ ì°¾ê¸° ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.
                  </p>
                  <div className="bg-indigo-50 p-6 rounded-lg">
                    <h3 className="font-bold text-xl mb-3 text-indigo-900">í‰ê°€ ê¸°ì¤€</h3>
                    <ul className="space-y-2">
                      <li><strong>5</strong> = í•­ìƒ, í™•ì‹¤íˆ ê·¸ë ‡ë‹¤</li>
                      <li><strong>4</strong> = ëŒ€ë¶€ë¶„, ëŒ€ì²´ë¡œ ê·¸ë ‡ë‹¤</li>
                      <li><strong>3</strong> = ë³´í†µ ê·¸ë ‡ë‹¤</li>
                      <li><strong>2</strong> = ë•Œë•Œë¡œ, ê°€ë” ê·¸ë ‡ë‹¤</li>
                      <li><strong>1</strong> = ì „í˜€, ì ˆëŒ€ë¡œ ê·¸ë ‡ì§€ ì•Šë‹¤</li>
                    </ul>
                  </div>
                  <div className="bg-blue-50 p-6 rounded-lg">
                    <h3 className="font-bold text-xl mb-3 text-blue-900">ì„¸ ê°€ì§€ ì˜ì—­</h3>
                    <ul className="space-y-2">
                      <li><strong>ê´€ì‹¬(Affinity)</strong> - ë‹¹ì‹ ì˜ ë§ˆìŒì€ ì–´ë””ì— ëŒë¦¬ë‚˜ìš”?</li>
                      <li><strong>ëŠ¥ë ¥(Ability)</strong> - ë‹¹ì‹ ì˜ ì¬ëŠ¥ì€ ë¬´ì—‡ì¸ê°€ìš”?</li>
                      <li><strong>ê¸°íšŒ(Opportunity)</strong> - ê³µë™ì²´ì˜ í•„ìš”ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</li>
                    </ul>
                  </div>
                </div>
                <button 
                  onClick={() => setCurrentStep('affinity')}
                  className="w-full mt-8 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition duration-200"
                >
                  í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
                </button>
              </div>
            </div>
          );

          const renderQuestions = (category, title, description) => {
            const categoryScores = scores[category];
            const progress = (categoryScores.filter(s => s > 0).length / 10) * 100;

            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8">
                <div className="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-10">
                  <div className="mb-8">
                    <h2 className="text-2xl md:text-3xl font-bold text-indigo-900 mb-2">{title}</h2>
                    <p className="text-gray-600">{description}</p>
                    <div className="mt-4 bg-gray-200 rounded-full h-3">
                      <div 
                        className="bg-indigo-600 h-3 rounded-full transition-all duration-300"
                        style={{ width: `${progress}%` }}
                      ></div>
                    </div>
                    <p className="text-sm text-gray-500 mt-2">{Math.round(progress)}% ì™„ë£Œ</p>
                  </div>

                  <div className="space-y-6">
                    {questions[category].map((question, index) => (
                      <div key={index} className="border border-gray-200 rounded-lg p-4 md:p-6 hover:shadow-md transition">
                        <p className="font-medium text-gray-800 mb-4">
                          {index + 1}. {question}
                        </p>
                        <div className="flex flex-wrap gap-2 justify-center md:justify-start">
                          {[1, 2, 3, 4, 5].map(score => (
                            <button
                              key={score}
                              onClick={() => handleScore(category, index, score)}
                              className={`w-12 h-12 rounded-full font-bold transition ${
                                categoryScores[index] === score
                                  ? 'bg-indigo-600 text-white scale-110'
                                  : 'bg-gray-200 hover:bg-gray-300 text-gray-700'
                              }`}
                            >
                              {score}
                            </button>
                          ))}
                        </div>
                      </div>
                    ))}
                  </div>

                  <div className="flex flex-col md:flex-row gap-4 mt-8">
                    {category !== 'affinity' && (
                      <button
                        onClick={() => {
                          if (category === 'ability') setCurrentStep('affinity');
                          else if (category === 'opportunity') setCurrentStep('ability');
                        }}
                        className="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-4 px-6 rounded-lg transition"
                      >
                        ì´ì „
                      </button>
                    )}
                    <button
                      onClick={() => {
                        if (category === 'affinity') setCurrentStep('ability');
                        else if (category === 'ability') setCurrentStep('opportunity');
                        else setCurrentStep('result');
                      }}
                      disabled={categoryScores.some(s => s === 0)}
                      className={`flex-1 font-bold py-4 px-6 rounded-lg transition ${
                        categoryScores.some(s => s === 0)
                          ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                          : 'bg-indigo-600 hover:bg-indigo-700 text-white'
                      }`}
                    >
                      {category === 'opportunity' ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ'}
                    </button>
                  </div>
                </div>
              </div>
            );
          };

          const renderResults = () => {
            const results = getResults();

            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8">
                <div className="max-w-6xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-10">
                  <h2 className="text-3xl md:text-4xl font-bold text-center text-indigo-900 mb-8">
                    í…ŒìŠ¤íŠ¸ ê²°ê³¼
                  </h2>

                  {results.matchingGifts.length > 0 && (
                    <div className="mb-8 p-6 bg-green-50 border-2 border-green-500 rounded-xl">
                      <h3 className="text-2xl font-bold text-green-800 mb-4">
                        ğŸ¯ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ëŠ” ì€ì‚¬!
                      </h3>
                      <div className="space-y-3">
                        {results.matchingGifts.map(giftId => {
                          const gift = giftTypes[giftId - 1];
                          return (
                            <div key={giftId} className="bg-white p-4 rounded-lg">
                              <h4 className="font-bold text-xl text-green-700">{gift.name}</h4>
                              <p className="text-gray-600">{gift.desc}</p>
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  )}

                  <div className="grid md:grid-cols-3 gap-6 mb-8">
                    <div className="bg-blue-50 p-6 rounded-xl">
                      <h3 className="text-xl font-bold text-blue-900 mb-4">ê´€ì‹¬ (Affinity)</h3>
                      <div className="space-y-2">
                        {results.topAffinity.map((item, index) => (
                          <div key={index} className="bg-white p-3 rounded-lg">
                            <div className="font-bold">{index + 1}. {giftTypes[item.giftId - 1].name}</div>
                            <div className="text-sm text-gray-600">ì ìˆ˜: {item.score}</div>
                          </div>
                        ))}
                      </div>
                    </div>

                    <div className="bg-purple-50 p-6 rounded-xl">
                      <h3 className="text-xl font-bold text-purple-900 mb-4">ëŠ¥ë ¥ (Ability)</h3>
                      <div className="space-y-2">
                        {results.topAbility.map((item, index) => (
                          <div key={index} className="bg-white p-3 rounded-lg">
                            <div className="font-bold">{index + 1}. {giftTypes[item.giftId - 1].name}</div>
                            <div className="text-sm text-gray-600">ì ìˆ˜: {item.score}</div>
                          </div>
                        ))}
                      </div>
                    </div>

                    <div className="bg-orange-50 p-6 rounded-xl">
                      <h3 className="text-xl font-bold text-orange-900 mb-4">ê¸°íšŒ (Opportunity)</h3>
                      <div className="space-y-2">
                        {results.topOpportunity.map((item, index) => (
                          <div key={index} className="bg-white p-3 rounded-lg">
                            <div className="font-bold">{index + 1}. {giftTypes[item.giftId - 1].name}</div>
                            <div className="text-sm text-gray-600">ì ìˆ˜: {item.score}</div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>

                  <div className="mb-8">
                    <h3 className="text-2xl font-bold text-gray-800 mb-4 text-center">ì „ì²´ ì€ì‚¬ í”„ë¡œí•„</h3>
                    <ResponsiveContainer width="100%" height={400}>
                      <RadarChart data={results.totalScores}>
                        <PolarGrid />
                        <PolarAngleAxis dataKey="gift" />
                        <PolarRadiusAxis angle={90} domain={[0, 5]} />
                        <Radar name="ê´€ì‹¬" dataKey="ê´€ì‹¬" stroke="#3b82f6" fill="#3b82f6" fillOpacity={0.3} />
                        <Radar name="ëŠ¥ë ¥" dataKey="ëŠ¥ë ¥" stroke="#8b5cf6" fill="#8b5cf6" fillOpacity={0.3} />
                        <Radar name="ê¸°íšŒ" dataKey="ê¸°íšŒ" stroke="#f59e0b" fill="#f59e0b" fillOpacity={0.3} />
                        <Legend />
                      </RadarChart>
                    </ResponsiveContainer>
                  </div>

                  <div className="bg-indigo-50 p-6 rounded-xl mb-8">
                    <h3 className="text-2xl font-bold text-indigo-900 mb-4">ê²°ê³¼ í•´ì„</h3>
                    <div className="space-y-4 text-gray-700">
                      <p>
                        ì„¸ ì˜ì—­(ê´€ì‹¬, ëŠ¥ë ¥, ê¸°íšŒ)ì´ ëª¨ë‘ ì¼ì¹˜í•˜ëŠ” ì€ì‚¬ê°€ ìˆë‹¤ë©´, ì´ê²ƒì´ í˜„ì¬ ë‹¹ì‹ ì´ 
                        ê°€ì¥ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì€ì‚¬ì…ë‹ˆë‹¤.
                      </p>
                      <p>
                        ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ê´œì°®ìŠµë‹ˆë‹¤. ê° ì˜ì—­ì˜ ìƒìœ„ ì€ì‚¬ë“¤ì„ í†µí•´ ë‹¹ì‹ ì˜ 
                        ì˜ì  ì—¬ì •ê³¼ ì„±ì¥ ë°©í–¥ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                      </p>
                      <ul className="list-disc list-inside space-y-2 ml-4">
                        <li><strong>ê´€ì‹¬ë§Œ ë†’ì€ ê²½ìš°:</strong> ë°°ì›€ê³¼ í›ˆë ¨ì˜ ê¸°íšŒë¡œ ì‚¼ìœ¼ì„¸ìš”</li>
                        <li><strong>ëŠ¥ë ¥ë§Œ ë†’ì€ ê²½ìš°:</strong> ì„¬ê¹€ì˜ ê¸°íšŒë¡œ ì—¬ê¸°ë©° ì˜ì  ë™ê¸°ë¥¼ êµ¬í•˜ì„¸ìš”</li>
                        <li><strong>ê¸°íšŒë§Œ ìˆëŠ” ê²½ìš°:</strong> ìƒˆë¡œìš´ ë„ì „ê³¼ ì„±ì¥ì˜ ê¸°íšŒì…ë‹ˆë‹¤</li>
                      </ul>
                    </div>
                  </div>

                  <button
                    onClick={() => {
                      setCurrentStep('intro');
                      setScores({
                        affinity: Array(10).fill(0),
                        ability: Array(10).fill(0),
                        opportunity: Array(10).fill(0)
                      });
                    }}
                    className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-lg transition"
                  >
                    ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                  </button>
                </div>
              </div>
            );
          };

          if (currentStep === 'intro') return renderIntro();
          if (currentStep === 'affinity') return renderQuestions('affinity', 'ê´€ì‹¬ (Affinity)', 'ë‹¹ì‹ ì˜ ë§ˆìŒì€ ì–´ë””ì— ëŒë¦¬ë‚˜ìš”?');
          if (currentStep === 'ability') return renderQuestions('ability', 'ëŠ¥ë ¥ (Ability)', 'ë‹¹ì‹ ì˜ ì¬ëŠ¥ì€ ë¬´ì—‡ì¸ê°€ìš”?');
          if (currentStep === 'opportunity') return renderQuestions('opportunity', 'ê¸°íšŒ (Opportunity)', 'ê³µë™ì²´ì˜ í•„ìš”ëŠ” ë¬´ì—‡ì¸ê°€ìš”?');
          if (currentStep === 'result') return renderResults();
        };

        ReactDOM.render(<SpiritualGiftTest />, document.getElementById('root'));
    </script>
</body>
</html>